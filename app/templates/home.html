{% extends "base.html" %}
{% load static %}

{% block content %}
<body class="library-body">

    <div class="sidebar">
        <a href="{%url 'landing'%}" style="text-decoration: none;"><h1>BookNook</h1></a>
        <h3>Sort/Filter</h3>
        <a href="{% url 'books_filtered' 'fiction' %}">Fiction</a>
        <a href="{% url 'books_filtered' 'nonfiction' %}">NonFiction</a>
        <a href="{% url 'home' %}" id="all">All Books</a>
        <a href="{% url 'shelf_view' %}">All Shelves</a>
        <hr>
        <h3>Manage</h3>
        <a href="{%url 'home'%}">Home</a>
        <a href="{%url 'add_book'%}">Add Book</a>
        <a href="{%url 'add_shelf'%}">Add Shelf</a>
        <a href="{%url 'logout'%}" id="logout">Logout</a>

    </div>


    <section class="main">
        <h1>Home</h1>
        <h2>Welcome back, {{user}}! <h2>
        <div class="book-grid">
            {% for book in books %}
            <div class="book-card">
                <h2 class="book-title">{{ book.title }}</h2>
                <p class="book-author">Author: {{ book.author }}</p>
                <p class="book-category">Category: {{ book.category }}</p>
                <p style="font-size: 16px; color: #212121;" class="book-pages">Pages: {{ book.pages }}</p>
                <p class="book-shelves">Shelves:
                    {% for shelf in book.bookshelves.all %}
                        <span class="book-tag">{{ shelf.name }}</span>
                    {% empty %}
                        <span class="book-tag">None</span>
                    {% endfor %}
                </p>
                <a href="{% url 'edit_book' book.id %}" id="link">Edit</a>
                <form method="post" action="{% url 'delete_book' book.id %}">
                {% csrf_token %}
                <button type="submit" class="button" style="color:red;">Delete</button>
                </form>
            </div>
            {% endfor %}
        </div>
    </section>

    </body>
{% endblock content %}